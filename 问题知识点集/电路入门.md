# 电路入门

## 前言

我们周遭所使用的所有电子设备均通过电流来控制其运行，而电流的连通则需要电路的支持。
通过在电路上搭载各种元器件，我们可实现由简单到复杂的各种操作。
电路中的元器件可分为两大类：无源元件和有源元件。
**无源元件**是指不需要外部电源就能够完成其功能的元器件，如电阻、电容、电感等。
**有源元件**是指需要外部电源才能完成其功能的元器件，如二极管、三极管、集成电路等。

<!-- more -->

## 1. 无源元件

电阻、电容器、线圈等被称为无源元件，主要用于消耗、储存、释放电力，以实现功率放大、整流等控制操作。

### 1.1 电阻

电阻也称为电阻器，可通过阻止电流运行来对电流进行控制，利用电流的改变影响电压，通过电流可产生任意电压。
电阻值的单位为 Ω（欧姆），电阻值越大其对电流的阻止能力就越强，因此通过的电流也就越小。
在电阻的两端连接电压后，电流就可以流通。电流与电压成正比，与电阻成反比。这就是欧姆定律。利用欧姆定律，我们可以计算出电流、电压、以及电阻的值。

### 1.2 电容

电容具有储存电量，并将储存的电量释放出来的功能。电容器的容量被称为静电容量，其单位为 F（法拉）。
电容器的构造是将电介质（绝缘体）夹在电极中，因此直流电无法通过，但在接通交流电后，电容器则可实现蓄电与放电的重复运行而形成电流。“只有交流电流才能通过”，这就是电容器的作用。

电容器在接入直流电后，会使电源正极的正电荷和负极的负电荷进行充电（带电）（图 1 充电状态）。而在电容器静电容量的电荷不断充电达到饱和时，电流就不再流通。（图 2 稳定状态）。

![图1 电容充电 / 图2 充电后的电容状态](https://pic2.imgdb.cn/item/646060750d2dde577763858a.jpg)

当电容器接通交流电压，电流的流向发生异常变化，电容器的充、放电将持续进行（图 3）。这可以看做是和电介质中交流电不断流通一样的“通交”，从而形成电流。交流电中的电阻被成为容抗，其单位为 Ω（欧姆）。

![图3](https://pic2.imgdb.cn/item/646061c20d2dde5777654f56.jpg)

### 1.3 线圈

线圈也叫做电感线圈。线圈是用导线围绕并制成的元件。导线在接通电流后可产生磁场，从而存储能量。该容量为电感系数，其单位是 H（亨利）。

导线将根据电流的方向产生右旋磁场（右旋定律）。在导线制成的线圈周围会形成定向磁场。而线圈内的磁场变化和感生电流的方向会有减少磁场变化趋势。这就是楞次定律。因此，线圈不能接通交流电，只用作直流电的接通。

将导体接通电流后将在电流方向产生右旋磁场。
感生电流产生磁场的方向一定是减少线圈内磁感线数变化的方向。

![图4](https://pic2.imgdb.cn/item/646063bc0d2dde577767d442.jpg)

![图5](https://pic2.imgdb.cn/item/646065890d2dde57776afe4a.jpg)

### 1.4 滤波器电路 HPF 与 LPF

滤波器电路是指通过电容和电感器来对电流进行滤波的电路。滤波器电路可分为高通滤波器（HPF）和低通滤波器（LPF）两种。

去除不需要的信号，只保留特定频率的电路叫做滤波器电路。比如，将电阻（R）与电容器（C）都为串联连接的 RC 串联电路中电阻的（Vr）电压作为电路的输出电压，那么我们就不能够只输出电压信号中的高频率部分而将低频率部分减少。这种特性被成为 HPF：High-pass filter（图 6）。
反之，如果把电容 C 上的电压作为输出，那么我们就不能够只输出输入电压信号中的低频率部分，而减少高频率部分。这种滤波器电路被称为 LPF：Low-pass filter（图 7）。

![图6 / 图7](https://pic2.imgdb.cn/item/646066bb0d2dde57776da757.jpg)

## 2. 有源元件

有源元件如二极管、三极管、FET，使用了半导体材料。

### 2.1 半导体

硅和锗是位于银、铝等导体和石英、陶瓷等绝缘体之间，用于制造半导体器件的原材料，具有一定电阻率。不同的物质其产生的不同电阻率是由于可移动的电子量不同引起的。这种可移动电子叫“自由电子”。一般我们把可以通过向其摻入杂质来改变自由电子的数量，并可控制电流动的物质称为半导体。

根据电流流动的构造，可将半导体分为 N 型和 P 型两类。

#### 2.1.1 N 型半导体

图 1 是在硅晶体中掺入杂质磷（P）元素的概要图。磷原子持有的 5 个价电子中 4 个和硅（Si）原子一样，通过共价键，与邻接原子紧密结合。剩下 1 个价电子不发生共价键，而是根据室温高低成为自由电子。这个自由电子将旁边的价电子赶出，取代它的位置，而原有价电子变为自由电子，再将旁边的其他价电子赶出。通过这样的重复过程，使自由电子不断移动从而形成电流。由电子作为载流子（输送电流）的半导体称为“N 型半导体”。施主原子的电子不足时，带正电荷。

![图1　N型半导体结构](https://pic2.imgdb.cn/item/646069da0d2dde577771a36d.jpg)

#### 2.1.2 P 型半导体

图 2 是在硅晶体中掺入杂质硼（B）元素的概要图。硼元素具有 3 个价电子，与硅相比少 1 个价电子。邻接硅原子中的价电子通过微量热能变为自由电子，被受主原子吸收。被吸收的价电子的原有位置称为空穴，进一步吸收邻接硅原子中的价电子。通过这个重复过程，空穴移动，产生电流。由空穴作为载流子的半导体称为“P 型半导体”。受主原子的电子过多，因而带负电荷。

![图2　P型半导体结构](https://pic2.imgdb.cn/item/64606a6a0d2dde57777254d8.jpg)

### 2.2 二极管

#### 2.2.1 二极管为单向传导的电子器件

二极管是由 P 型半导体和 N 型半导体形成的，构造简单。P 型和 N 型结界面周围，各个载流子扩散并结合，从而出现了不存在载流子的区域。在这个区域里，带电的杂质形成势垒电场，通过阻止载流子扩散阻碍结合。我们将这个不存在载流子的势垒电场称为耗尽层。

![图3　PN结二极管的结构](https://pic2.imgdb.cn/item/64606ba40d2dde5777742328.jpg)

在二极管的两端，P 型区域外加正电压，N 型区外加负电压，向耗尽层变窄的方向上加入能量，则载流子极易向两边漂移，再次产生复合，因复合而消失的载流子被外加电压的电流补给，形成定向电流。与此相反，当在 P 型区域外加负电压，N 型区外加正电压时，向载流子被电极吸引的方向上加入能量，则耗尽层变宽，电流几乎不再流动。上述电流单向流动即为二极管的基本原理—整流作用。易于电流流动的方向称为正向，不易电流流动的方向称为反向。

#### 2.2.2 二极管的电压电流特性

二极管的电压电流特性如图 4 所示。需要注意的是，即使是正向，如不外加一定程度电压，电流还是不会流动的。硅二极管所需外加电压为 0.7 ～ 0.8V，肖特基二极管约为 0.2V，发光二极管(LED)为 2 ～ 5V 以上，能让电流正向流动。在反向上外加一定电压时，也可突然产生电流，这种现象称之为击穿。击穿电压几乎不受电流影响，因此常用做定电压源。

![图4　二极管的电压电流特性](https://pic2.imgdb.cn/item/64606d740d2dde577776c88b.jpg)

### 2.3 三极管

#### 2.3.1 电子电路的基本元件（最早投入使用的固体有源元件）

三极管也称为晶体管（为避免与下文中的 FET 产生混淆，也可称之为双极型晶体管）是 P 型半导体和 N 型半 导体相互叠加，呈三明治夹层构造的元件。根据叠加顺序不同，可分为 NPN 型和 PNP 型两类。

![图5 NPN 晶体管概要图](https://pic2.imgdb.cn/item/6460702c0d2dde57777ac8dd.jpg)

以 NPN 型晶体管（图 5）为例，基区・发射区和二极管结构相同。在此外加正向电压（0.7V 左右）产生基极电流（IB）。大量自由电子从发射区流入基区，基区复合的载流子少于发射区扩散出来的，则自由电子剩余。剩余自由电子被集电极上外加的 E2 吸引。发射区扩散的载流子数量为复合载流子数量的 10 ～数百倍，用此比率扩大 IB，产生集电极电流（IC）。如 IB 为 0 时，发射区无载流子扩散，则 IC 也为 0。也就是说，基区・发射区之间的正向电流 IB 可以控制基区・发射区之间的电流 IC。这种特性适用于放大器和开关，构成电子电路的基本元件。通过组合这种晶体管可形成较为复杂的电子电路。

#### 2.3.2 晶体管的开关工作

晶体管可得到大于基极电流几倍的集电极电流。集电极电流与基极电流的比率称之为直流电流放大率（HFE），比率约为 100 ～ 700。如图 6 所示电路中，IN 上外加电压为 0V 时，基极无电流，集电极也无电流产生，因此 RL 无电流通过，OUT 上输出电压为 12V。相反，在基区・发射区之间外加一定强度电压（一般外加电压 0.7V 以上电压），则基极有电流通过，产生 hFE 倍的集电极电流。但实际通过的电流，因负荷电阻 RL 的存在，（12V－Vce-sat（饱和电压））/RL 受到限制。由于该开关电路的驱动电流很大，所以，常常被用在用 MCU 和逻辑 IC 等芯片不能直接驱动的控制场合，比如功率 LED、继电器和 DC 电机等的控制。

![图6 晶体管的开关工作](https://pic2.imgdb.cn/item/646087fe0d2dde5777a399fb.png)

### 2.4 FET

#### 2.4.1 实现集成化的贡献者

FET（Filed Effect Transistor：场效应晶体管）大致可分为 MOS（Metal Oxide Semiconductor：金属氧化物半导体）和结型两类。特别是 MOS 型 FET（MOSFET），与上述双极型晶体管相比，其平面型结构以及相邻同类元件间干扰极小，基本上无需分离使用，因易于集成化、细微化且低功耗，因此是 IC 和 LSI 中必不可少的元件。

![图7 N型MOSFET概要图](https://pic2.imgdb.cn/item/6460892a0d2dde5777a59e81.jpg)

图 7 是 N 型 MOSFET 概要图。G 被称为“栅”极，G 下面是作为绝缘体的氧化膜，源极 S 和漏极 D 夹住栅极。栅极与源极之间电压为 0V 时，N 型半导体构成的源极和漏极之间夹入 P 型半导体，形成反向结合，形成绝缘。也就是说，源极和漏极之间无电流通过。
当在栅极上外加电压时，自由电子被吸引到栅极下方。源极和漏极之间自由电子增多，电流容易通过。也就是说，可以通过向栅极外加电压，来控制源漏极之间的电流。

其主要被用于开关电路及放大电路。当栅极上外加的电压稳定不变时，源漏极间电流也稳定，因此可用作定电压源。

栅极下面的电流通道为 N 型时称为 N 型 MOSFET，栅极下面的电流通道为 P 型时 P 型 MOSFET。

#### 2.4.2 数字电路的基本要素 CMOS

CMOS（Complementary MOS）如图 8 所示，是一种互补型连接的 MOSFET。采用此种电路结构时，无论是 IN 电压为 0V，还是 VCC 的情况，只有一方的 MOSFET 为 ON。因此从 VCC 到 GND 基本上无电流通过，可用于构成功耗极低的理想电路。现在的 LSI 和 IC 基本上都是由这种 CMOS 构成的。

![图8 CMOS构成的变频器](https://pic2.imgdb.cn/item/64608abf0d2dde5777a82640.jpg)

## 3. 运算放大器

### 3.1 方便多用途的集成电路 — 运算放大器

运算放大器是一种可以进行数学运算的放大电路。运算放大器不仅可以通过增大或减小模拟输入信号来实现放大，还可以进行加减法以及微积分等运算。所以，运算放大器是一种用途广泛，又便于使用的集成电路。

![图1：运算放大器的电路符号](https://pic2.imgdb.cn/item/64608d040d2dde5777ab30a5.png)

如图 1 所示，运算放大器的电路符号有正相输入端 Vin（+）和反相输入端 Vin（－）两个输入引脚，以及一个输出引脚 Vout。实际上运算放大器还有电源引脚（+电源、－电源）和偏移输入引脚等，在电路符号上没有表示出来。
运算放大器的主要功能是以高增益放大、输出 2 个模拟信号的差值。我们将放大 2 个输入电压差的运放称为差动放大器。当 Vin(+)电压较高时，正向放大输出 。当 Vin（－）电压较高时，负向放大输出。此外，运算放大器还具有输入阻抗极大和输出阻抗极小的特征。
即使输入信号的差很小，由于运算放大器有极高的放大倍数，所以，也会导致输出最大或最小电压值。因此，常常要加负反馈后使用。

### 3.2 运算放大器的基本(1) - 反相放大器电路

如图 2 所示，反相放大器电路具有放大输入信号并反相输出的功能。“反相”的意思是正、负号颠倒。这个放大器应用了负反馈技术。所谓负反馈，即将输出信号的一部分返回到输入，在图 2 所示电路中，象把输出 Vout 经由 R2 连接(返回)到反相输入端（－）的连接方法就是负反馈。
我们来看一下这个反相放大器电路的工作过程。运算放大器具有以下特点，当输出端不加电源电压时，正相输入端（+）和反相输入端（－）被认为施加了相同的电压，也就是说可以认为是虚短路。所以，当正相输入端（+）为 0V 时，A 点的电压也为 0V。根据欧姆定律，可以得出经过 R1 的 I1=Vin/R1。

![图2：反相放大器电路](https://pic2.imgdb.cn/item/64608eed0d2dde5777ae5e28.png)

另外，运算放大器的输入阻抗极高，反相输入端（－）中基本上没有电流。因此，当 I1 经由 A 点流向 R2 时，I1 和 I2 电流基本相等。由以上条件，对 R2 使用欧姆定律，则得出 Vout=－I1×R2。I1 为负是因为 I2 从电压为 0V 的点 A 流出。换一个角度来 看，当反相输入端(－)的输入电压上升时，输出会被反相，向负方向大幅度放大。由于这个负方向的输出电压经由 R2 与反相输入端相连，因此，会使反相输入端(－)的电压上升受阻。反相输入端和正相输入端电压都变为 0V，输出电压稳定。
那么我们通过这个放大器电路中输入与输出的关系来计算一下增益。增益是 Vout 和 Vin 的比，即 Vout/Vin=（－I1×R2）/（I1×R1）=－R2/R1。所得增益为－表示波形反相。
在这个算公式中需要特别注意的地方是，增益仅由 R1 和 R2 电阻比决定。也就是说。我们可以通过改变电阻容易地改变增益。在具有高增益的运算放大器上应用负反馈，通过调整电阻值，就可以得到期望的增益电路。

### 3.3 运算放大器的基本(2) — 正相放大器电路

与反相放大器电路相对， 图 3 所示电路叫做正相放大器电路。与反相放大器电路最大的不同是，在正相放大器电路中，输入波形和输出波形的相位是相同的，以及输入信号是加在正相输入端（+）。与反相放大器电路相同的是，两个电路都利用了负反馈。

![图3：正相放大器电路](https://pic2.imgdb.cn/item/64608fdb0d2dde5777afebea.png)

我们来看一下这个电路的工作过程。首先，通过虚短路，正相输入端（+）和反相输入端 （－）的电压都是 Vin，即点 A 电压为 Vin。根据欧姆定律，Vin=R1×I1。另外，运算放大器的两个输入端上基本没有电流，所以 I1=I2。而 Vout 为 R1 与 R2 电压的和，即 Vout=R2×I2+R1×I1。 整理以上公式可得到增益 G，即 G=Vout/Vin=（1+R2/R1）。

如果撤销这个电路中的 R1，将 R2 电阻变为 0Ω 或者短路，则电路变为增益为 1 的电压跟随器。这种电路常用于阻抗变换和缓冲器中。

### 3.4 输入值的判定 — 比较器

Comparator 也可称为比较器，比较两个电压的大小，然后输 出 1（+侧的电源电压，图示为 VDD）或 0（－侧的电源电压）。比较器常常用于检测输入是否达到规定值。也可以用运算放大器来代替比较器，但一般情况下使用专用的比较器 IC。比较器和运算放大器使用相同电路符号。

![图4：比较器电路](https://pic2.imgdb.cn/item/646090510d2dde5777b11032.png)

比较器电路如图 4 所示。我们来看一下这个电路的工作过程。首先应该注意，这个电路中没有正反馈也没有负反馈。放大 Vin 和 VREF 的差值，从 Vout 输出。例如，Vin 大于 VREF 时，放大输出的 Vout 上升至+侧的电源电压，达到饱和。Vin 小于 VREF 时，输出 Vout 下降至－侧电源电压达到饱和。
通过这个动作，Vin 和 VREF 的比较结果在 Vout 上输出。
实际应用中，一般使图 4 电路上产生滞后（用于防止错误动作的电压领域），如图 5，Vin 会产生一些噪波，但仍可稳定动作。

![图5：有滞后效应的比较器电路](https://pic2.imgdb.cn/item/646090ad0d2dde5777b1d56d.png)

### 利用正反馈的发振电路

负反馈动作中，从输出返到输入的信号越大，则输出越小。于此相反，正反馈中，从输出返到输入的 信号越大，则输入越大。当正反馈动作中增益大于 1 时，电路振荡。将这种振荡合理利用到电路中，就形成振荡电路。
图 6 的不稳定多谐振荡器就是一个振荡电路。

![图6：不稳定多谐振荡器电路](https://pic2.imgdb.cn/item/646091050d2dde5777b29d56.png)

+侧最大值 VL 和－侧最大值 VL 都是不稳定的，两个数值不断变化，因此称之为不稳定。我们来看看这个电路中的动作。首先，输出 Vout 经由 R2 反馈至正相输入端（ +），这是一个正反馈电路。然后在输入 Vout 上应用 R3 和 C，这是一个积分电路。大家可能会觉得积分电路很难，实际上，我们可以将它简单理解为， 输出在 Vout 上的电压的一部分，缓缓储存到电容器的一个过程电路。在初始状态中，通过正反馈电路 Vout 迅速增大并达到最大值（VL）。
然后， 通过 R3 和 C 构成的积分电路，缓缓增加反相输入端（－）。经过一定时间，正相输入端（＋）的电压超过反相输入端（－）电压，相当于在差动输入上输 入负电压，则 Vout 在负侧上迅速增大达到－VL。Vout 变为负，通过 R3 和 C 构成的积分电路，反相输入端（－）电压缓缓增大。经过一定 时间后，反相输入端电压超过正相输入端（＋）的电压，相当于在差动输入上输入了正电压，则 Vout 向正方向迅速变化。这个过程不断重复，在 Vout 交替出现 VL 和－VL，从而实现振荡电路动作。
