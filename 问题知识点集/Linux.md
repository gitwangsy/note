# Linux

## 1. 简介

### 1.1 什么是 Linux

Linux 是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 UNIX 的多用户、多任务、支持多线程和多 CPU 的操作系统。它能运行主要的 UNIX 工具软件、应用程序和网络协议。它支持 32 位和 64 位硬件。Linux 继承了 Unix 以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。

### 1.2 Linux 的特点

- 1.开放性：Linux 是开源软件，可以自由下载、自由使用、自由传播、自由修改。
- 2.多用户：多用户就是多个用户可以同时使用 Linux 系统，每个用户可以在自己的目录下安装软件、创建文件、创建文件夹等等。

### 1.3 Linux 大量使用脚本语言

在 Linux 下能够选择的脚本语言都是极其丰富的。它们最大的特点就是简单、好学且资料丰富。简单就意味着容易维护，好学就容易吸引用户，资料丰富就不会在解决 bug 上出现障碍。即便是专业的程序员，也会因为这些特点而特别偏好脚本语言，导致的一个结果就是脚本程序在 Linux 中的大爆发。  
混合编程：Linux 下的脚本语言可以和 C、C++、Java 等语言混合编程，这样就可以充分利用各种语言的优点，使程序更加高效。

### 1.4 为什么使用 Linux

Linux 的开源免费特性只是一部分优势，并不是学习 Linux 的主要原因。  
Linux 之所以能够在服务器领域大放异彩，是因为它的稳定性、安全性、高效性、多用户、多任务、多线程、多 CPU 等特性。

### 1.5 Linux 发行版的选择

- 1.服务器：CentOS、RedHat、Ubuntu Server、Debian
- 2.桌面：Ubuntu、Deepin、Fedora、CentOS、Debian
- 3.嵌入式：OpenWrt、Android、Ubuntu Core
- 4.其他：Kali、Raspbian、ArchLinux、Manjaro、Gentoo、LFS

### 1.6 Linux 桌面环境的选择

Linux 中的桌面环境也是一个程序，它和内核不是绑定的，两者的开发也不是同步的。

- 1.KDE:KDE 是 K Desktop Environment 的缩写，中文译为“K 桌面环境”。KDE 是基于大名鼎鼎的 Qt 的。
- 2.GNOME:GNOME 是 GNU Network Object Model Environment 的缩写，中文译为“GNU 网络对象模型环境”。
- 3.Unity:Unity 是 Ubuntu 11.04 版本之后的默认桌面环境，它是基于 GNOME 3 开发的。

查看当前桌面环境：echo $XDG_CURRENT_DESKTOP

### 1.7 Linux 的主要应用领域

- 1.服务器：Linux 服务器的应用领域非常广泛，几乎所有的服务器都可以使用 Linux 系统。

> Linux 在服务器上的应用非常广泛，可以用来搭建 Web 服务器、数据库服务器、负载均衡服务器（CDN）、邮件服务器、DNS 服务器、反向代理服务器、VPN 服务器、**路由器**等。
> Solaris 是 Sun Microsystems 研发的计算机操作系统，被认为是 UNIX 操作系统的衍生版本之一。
> 正是由于 Linux 服务器的大规模应用，才需要一批专业的人才去管理，这群人就是 **Linux 运维工程师（OPS）**。

- 2.电影特效：Linux 有很多专业的视频编辑软件，如：Blender、Kdenlive、Cinelerra、Pitivi 等。
- 3.嵌入式：Linux 有很多专门为嵌入式设备开发的发行版，如：OpenWrt、Android、Ubuntu Core 等。

> 由于 Linux 系统开放源代码，功能强大、可靠、稳定性强、灵活而且具有极大的伸缩性，再加上它广泛支持大量的微处理器体系结构、硬件设备、图形支持和通信协议，因此在嵌入式应用的领域里，从因特网设备（路由器、交换机、防火墙、负载均衡器等）到专用的控制系统（自动售货机、手机、PDA、各种家用电器等），几乎涵盖了生活中的所有电器设备，如手机、平板电脑、电视机顶盒、游戏机、智能电视、汽车、数码相机、自动售货机、工业自动化仪表与医疗仪器等。
> 嵌入式系统是以应用为中心，以计算机技术为基础，并且软硬件可定制，适用于各种应用场合，对功能、可靠注、成本、体积、功耗有严格要求的专用计算机系统。它一般由嵌入式微处理器、外围硬件设备、嵌入式操作系统及用户的应用程序 4 部分组成，用于实现对其他设备的控制、监视或管理等。

## 2. Linux 的安装

### 2.1 Linux 的安装方式

- 1.虚拟机安装：虚拟机安装 Linux 它的优点是不需要重启电脑，缺点是性能比较差。
- 2.双系统安装：双系统安装 Linux 它的优点是性能比较好，缺点是需要重启电脑。

### 2.2 VMware Workstation 的安装

所谓虚拟机（virtual machine），就是通过软件技术虚拟出来的一台计算机，它在使用层面和真实的计算机并没有什么区别。虚拟机可以安装操作系统，可以安装软件，可以联网上网，可以访问外部设备，可以和真实计算机进行数据交换等。

1. 下载安装 VMware Workstation：[下载](https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html)
2. 下载映像文件：
3. VMware 提供的网络连接有五种模式：桥接模式、NAT 模式、仅主机模式、LAN 网络模式、自定义模式。

> **桥接模式**：相当于虚拟机的网卡和宿主机的物理网卡均连接到虚拟机软件所提供的 **VMnet0** 虚拟交换机上，因此虚拟机和宿主机是平等的，相当于一个网络中的两台计算机。这种设置既可以保证虚拟机和宿主机通信，也可以和局域网内的其他主机通信，还可以连接 Internet，是限制最少的连接方式，推荐新手使用。桥接模式是最常用的网络连接模式，**它可以让虚拟机和真实计算机处于同一个网段，虚拟机可以和真实计算机互相访问。** > **NAT 模式**：相当于虚拟机的网卡和宿主机的虚拟网卡 **VMnet8** 连接到虚拟机软件所提供的 VMnet8 虚拟交换机上，因此本机是通过 VMnet8 虚拟网卡通信的。在这种网络结构中，VMware 为虚拟机提供了一个虚拟的 NAT 服务器和一个虚拟的 DHCP 服务器，虚拟机利用这两个服务器可以连接到 Intemet。所以，在正常情况下，虚拟机系统只要设定自动获取 IP 地址，就能既和宿主机通信，又能连接到 Internet 了。但是这种设置不能连接局域网内的其他主机。
> **仅主机模式**：宿主机和虚拟机通信使用的是 VMware 的虚拟网卡 **VMnet1**，但是这种连接没有 NAT 服务器为虚拟机提供路由功能，所以仅主机网络只能连接宿主机，不能连接局域网，也不能连接 Internet 网络。
> 自定义网络：可以手工选择使用哪块虚拟机网卡。如果选择 Vmnet1，就相当于桥接网络；如果选择 VMnet8，就相当于 NAT 网络。
> LAN 区段：这是新版 VMware 新增的功能，类似于交换机中的 VLAN（虚拟局域网），可以在多台虚拟机中划分不同的虚拟网络。

总结：在 VMware Workstation 安装好后，会生成两个虚拟网卡 VMnet1 和 VMnet8 (在 Windows 系统的"网络连接->网络适配器"中可以査看到)

### 2.3 U 盘安装 Linux

1. 下载镜像文件：[ubuntu](https://www.ubuntu.com/download/desktop)
2. 下载制作工具：[rufus](https://rufus.ie/zh/)
3. 制作启动盘：使用制作工具将镜像文件写入 U 盘中，制作完成后，将 U 盘插入电脑，重启电脑，进入 BIOS 设置，将 U 盘设置为第一启动项，保存设置，重启电脑，就可以进入 Linux 系统了。
4. 安装 Linux 系统：在安装界面中，选择语言，选择安装方式，选择安装位置，设置用户名和密码，等待安装完成，重启电脑，就可以使用 Linux 系统了。

### 2.4 Linux 单用户模式

单用户模式是 Linux 系统的一种特殊的运行模式，它是在系统启动时，由系统管理员通过 LILO 或 GRUB 引导加载程序，通过在内核启动参数中指定运行级别为 1 来实现的。在单用户模式下，系统不会启动任何网络服务，也不会启动任何终端控制台，只有一个 root 用户登录系统，这样就可以对系统进行维护和修复。

1. 在启动时，按下键盘上的 **e** 键，进入编辑模式。
2. 在编辑模式中，找到以 **linux16** 开头的那一行，按下键盘上的 **e** 键，进入编辑模式。
3. 在编辑模式中，找到以 **ro** 开头的那一行，在 **ro** 后面加上 **single** 或 **1**，按下键盘上的 **Enter** 键，回到编辑模式。
4. 在编辑模式中，按下键盘上的 **b** 键，进入单用户模式。
5. 在单用户模式下，可以使用 **passwd** 命令修改密码。
6. 修改完成后，使用 **reboot** 命令重启系统。

### 2.5 Linux 远程管理协议

- SSH：Secure Shell，安全外壳协议，是一种加密的网络传输协议，可以在不安全的网络中为网络服务提供安全的传输环境。
- Telnet：Telnet 协议是 TCP/IP 协议族中的一员，是 Internet 远程登录服务的标准协议和主要方式。它为用户提供了在本地计算机上完成远程主机工作的能力。
- RDP：远程桌面协议，是微软公司提出的一种专门用于远程控制 Windows 桌面的协议，它允许用户通过局域网或 Internet 连接到远程计算机，使用该计算机的桌面和资源。
- RFB：远程帧缓冲协议，是一种用于远程桌面协议，它允许用户通过局域网或 Internet 连接到远程计算机，使用该计算机的桌面和资源。VNC 是 RFB 协议的一种实现。

总结：介于安全性和稳定性的考虑，大部分的服务器都舍弃图形管理界面而选择命令行界面，因此远程管理 Linux 服务器常使用基于 SSH 协议的命令行管理方式。

### 2.6 远程管理工具

- Xshell
- SecureCRT
- PuTTY
- MobaXterm：集成了 X11 服务器、远程控制、远程文件传输、远程会话管理等功能的综合性软件，是 Windows 平台上的一款强大的终端模拟器，可以用来连接 Linux 服务器，也可以连接 Windows 服务器，还可以连接虚拟机。

### 2.7 Linux 使用注意事项

- Linux 是区分大小写的，所以在输入命令时，要注意大小写。
- Linux 不靠扩展名来区分文件类型，所以在创建文件时，要注意文件类型。
  Linux 中的一些特殊文件还是要求写 "扩展名" 的，是为了方便用户识别文件类型，
- Linux 中所有内容（包括硬件设备）以文件形式保存，所以在 Linux 中，一切皆文件。
- Linux 中所有存储设备都必须在挂载之后才能使用。

### 2.8 Linux 文件目录结构

FHS（Filesystem Hierarchy Standard），文件系统层次化标准，该标准规定了 Linux 系统中所有一级目录以及部分二级目录（/usr 和 /var）的用途。发布此标准的主要目的就是为了让用户清楚地了解每个目录应该存放什么类型的文件。

/：根目录，所有目录的起始点，一般不存放任何文件，只存放目录。

Linux 一级目录及其作用表：

| 目录        | 作用                         |
| ----------- | ---------------------------- |
| /bin        | 存放系统命令                 |
| /boot       | 存放系统启动文件             |
| /dev        | 存放设备文件                 |
| /etc        | 存放系统配置文件             |
| /home       | 存放普通用户的主目录         |
| /lib        | 存放系统库文件               |
| /lost+found | 存放系统异常产生的文件       |
| /media      | 自动识别的设备挂载点         |
| /mnt        | 手动挂载的设备挂载点         |
| /opt        | 存放第三方软件               |
| /proc       | 存放系统和进程信息           |
| /root       | 超级用户的主目录             |
| /sbin       | 存放与系统环境设置相关的命令 |
| /srv        | 存放服务相关的数据           |
| /sys        | 存放系统硬件信息             |
| /tmp        | 存放临时文件                 |
| /usr        | 存放系统应用程序             |
| /var        | 存放系统日志                 |

/usr 目录及其作用表：(Unix Software Resource)

| 目录           | 作用             |
| -------------- | ---------------- |
| /usr/bin       | 存放系统命令     |
| /usr/lib       | 存放系统库文件   |
| /usr/src       | 存放内核源代码   |
| /usr/sbin      | 存放系统管理命令 |
| /usr/local     | 存放第三方软件   |
| /usr/include   | 存放头文件       |
| /usr/share     | 存放共享数据     |
| /usr/share/doc | 存放文档说明     |

/var 目录及其作用表：(Variable)

| 目录       | 作用                  |
| ---------- | --------------------- |
| /var/log   | 存放系统日志          |
| /var/spool | 存放服务相关数据      |
| /var/run   | 存放服务相关数据(PID) |
| /var/lock  | 存放锁文件            |
| /var/tmp   | 存放临时文件          |
| /var/mail  | 存放邮件              |
| /var/www   | 存放网站相关数据      |

### 2.9 Linux 文件类型

Linux 中的文件类型主要有以下几种：

- 普通文件(-)：存放数据的文件，如文本文件、二进制文件等。
- 目录文件(d)：存放其他文件的文件。
- 链接文件(l)：类似于 Windows 中的快捷方式。
- 块设备文件(b)：存放数据的文件，如硬盘、U 盘等。
- 字符设备文件(c)：存放数据的文件，如键盘、鼠标等。
- 套接字文件(s)：用于进程间网络通信的文件。
- 管道文件(p)：用于进程间通信的文件。

### 2.10 Linux 挂载

挂载：**将存储设备连接到文件系统中的某个目录上(最好是空目录)**，使得该存储设备中的数据能够被用户访问。如果不挂载，通过 Linux 系统中的图形界面系统可以查看找到硬件设备，但命令行方式无法找到。

### 2.11 远程管理注意事项

- 远程服务器在重启前，要中止正在执行的服务

计算机的硬盘最怕在高速存储时断电或重启，非常容易造成硬盘损坏。所以，在重启前先中止你的服务，甚至可以考虑暂时断开对外提供服务的网络。

- 重启命令的选用

重启命令有很多种，如 reboot、shutdown、init 等，但是建议大家使用 `shutdown-r now` 命令重启。这条命令在重启时会正常保存和中止服务器中正在运行的程序，是安全命令。

最好在重启前执行几次 `sync` 命令，这条命令是数据同步命令，可以让暂时保存在内存中的数据同步到硬盘上。

## 3. Linux 文件和目录管理

### 3.1 硬件设备命名规则

Linux 中的硬件设备都是以文件的形式存在的，所以硬件设备也有文件名，硬件设备的文件名是由一些字符组成的，这些字符代表了硬件设备的类型和编号。

硬件设备文件名的命名规则：

- IDE 硬盘：/dev/hd\[a-d][1-4]
- SATA 硬盘：/dev/sd\[a-p][1-4]
- 光驱：/dev/cdrom
- 软驱：/dev/fd[0-1]
- 打印机：/dev/lp[0-2]
- 鼠标：/dev/mouse
- 键盘：/dev/psaux
- USB 设备：/dev/usbmon[0-7]
- 网卡：/dev/eth[0-7]

### 3.2 普通文件和目录管理命令大纲

#### 3.2.1 普通文件管理命令

| 命令     | 作用                                                                          |
| -------- | ----------------------------------------------------------------------------- |
| touch    | 创建空文件                                                                    |
| cp       | 复制文件或目录                                                                |
| mv       | 移动文件或目录，也可以用来重命名文件或目录                                    |
| rm       | 删除文件或目录                                                                |
| cat      | 查看文件内容                                                                  |
| tac      | 反向查看文件内容                                                              |
| nl       | 查看文件内容，并显示行号                                                      |
| more     | 分屏显示文件内容，可以向下翻页                                                |
| less     | 分屏显示文件内容，可以向上、向下翻页                                          |
| head     | 查看文件头部内容                                                              |
| tail     | 查看文件尾部内容                                                              |
| tail-f   | 动态查看文件内容                                                              |
| wc       | 统计文件的行数、单词数、字节数                                                |
| file     | 查看文件类型                                                                  |
| iconv    | 文件编码转换                                                                  |
| dos2unix | 将 DOS 编码的文件转换为 Linux 编码                                            |
| unix2dos | 将 Linux 编码的文件转换为 DOS 编码                                            |
| grep     | 在文件中查找指定内容                                                          |
| find     | 在文件系统中查找文件                                                          |
| diff     | 比较两个文件的内容                                                            |
| cmp      | 比较两个文件的内容，如果文件不同，显示第一个不同的字符的 ASCII 码值和字符位置 |
| ln       | 创建链接文件                                                                  |
| stat     | 查看文件的详细信息                                                            |
| chattr   | 修改文件的属性                                                                |
| split    | 将一个大文件分割成若干个小文件                                                |
| paste    | 将多个文件按列合并为一个文件                                                  |
| cut      | 从文件的每一行剪切字节、字符和字段                                            |
| tr       | 替换文件中的字符                                                              |
| sed      | 流编辑器，用于编辑文件                                                        |
| awk      | 文本分析工具，用于处理文件                                                    |

#### 3.2.2 目录管理命令

| 命令     | 作用                                   |
| -------- | -------------------------------------- |
| mkdir    | 创建目录                               |
| rmdir    | 删除空目录                             |
| cd       | 切换目录                               |
| pwd      | 查看当前所在目录                       |
| ls       | 查看目录中的文件                       |
| ls -a    | 查看目录中的所有文件，包括隐藏文件     |
| ls -l    | 查看目录中文件的详细信息               |
| ls -d    | 查看目录本身的详细信息                 |
| ls -h    | 查看文件大小，以人类可读的方式显示     |
| ls -i    | 查看文件的 inode 编号                  |
| ls -t    | 按照文件修改时间排序                   |
| ls -r    | 逆序显示文件                           |
| ls -R    | 递归显示文件                           |
| ls -S    | 按照文件大小排序                       |
| ls -X    | 按照文件扩展名排序                     |
| tree     | 查看目录树                             |
| du       | 查看目录的磁盘使用情况                 |
| df       | 查看文件系统的磁盘使用情况             |
| mount    | 挂载存储设备                           |
| umount   | 卸载存储设备                           |
| ln       | 创建链接文件                           |
| stat     | 查看文件的详细信息                     |
| chattr   | 修改文件的属性                         |
| chown    | 修改文件或目录的所有者                 |
| chgrp    | 修改文件或目录的所属组                 |
| chmod    | 修改文件或目录的权限                   |
| find     | 在文件系统中查找文件                   |
| locate   | 在文件系统中查找文件                   |
| updatedb | 更新 locate 命令的数据库               |
| whereis  | 查找文件的二进制程序、源代码和帮助文档 |
| which    | 查找文件的二进制程序                   |

### 3.3 建立软/硬链接文件(ln)

#### 3.3.1 ext4 文件系统

ext4 文件系统是 Linux 中最常用的文件系统，它的特点是：

- 支持文件系统最大为 1EB（1EB=1024PB=1024TB=1024GB=1024MB=1024KB=1024B）
- 支持单个文件最大为 16TB
- 支持文件名最大长度为 255 个字符
- 支持最大挂载数为 64

ext4 文件系统会把分区主要分为三个区域：

- 超级块区域：存储文件系统的元数据，包括文件系统的大小、块大小、挂载次数、最后一次挂载时间等
- inode 区域：存储文件的元数据，包括文件的大小、权限、所有者、所属组、创建时间、修改时间(mtime)、访问时间(atime)、状态改变时间(ctime)等
- 数据块区域(block)：存储文件的内容，数据块的大小为 4KB，数据块的编号从 0 开始，数据块的编号和数据块的物理地址是一一对应的，数据块的编号和数据块的物理地址的关系是：数据块的物理地址 = 数据块的编号 \* 数据块的大小。block 的大小可以是 1KB、2KB、4KB，**默认为 4KB**。block 用于实际的数据存储，如果一个 block 放不下数据，则可以占用多个 block。

inode 区域和数据块区域的关系是：inode 区域中的 inode(文件 ID) 会指向数据块区域中的数据块

#### 3.3.2 软链接文件

软链接文件也叫符号链接文件，它是一个特殊的文件，它的内容是指向另一个文件的路径，软链接文件的大小为 0，软链接文件的权限为 lrwxrwxrwx。

软链接文件的创建命令为 `ln -s 源文件 目标文件`，软链接文件的删除命令为 `rm -f 软链接文件`。

#### 3.3.3 硬链接文件

硬链接文件是一个普通的文件，它的内容和源文件的内容完全一样，硬链接文件的大小和源文件的大小一样，硬链接文件的权限和源文件的权限一样。**硬链接指的就是给一个文件的 inode 分配多个文件名，通过任何一个文件名，都可以找到此文件的 inode，从而读取该文件的数据信息。**

硬链接文件的创建命令为 `ln 源文件 目标文件`，硬链接文件的删除命令为 `rm -f 硬链接文件`。

硬链接文件的特点：

- 硬链接文件和源文件的 inode 号相同
- 硬链接文件和源文件的链接数相同

硬链接文件的限制：

- **硬链接文件不能链接目录**
- 硬链接文件不能链接设备文件

**软链接文件的源文件必须写成绝对路径**，而不能写成相对路径（硬链接没有这样的要求）；否则软链接文件会报错。这是初学者非常容易犯的错误。

### 3.4 删除文件(rm)

删除文件的时候，如果文件是软链接文件，则只会删除软链接文件，不会删除源文件；如果文件是硬链接文件，则只会删除硬链接文件，不会删除源文件。

| 选项     | 作用                         |
| -------- | ---------------------------- |
| -r(递归) | 递归删除目录中的所有文件     |
| -f(强制) | 强制删除文件                 |
| -i(交互) | 删除文件之前需要提示用户确认 |

recursive，forced，interaction

### 3.5 通配符

| 通配符 | 作用                                                                                |
| ------ | ----------------------------------------------------------------------------------- |
| \*     | 匹配任意多个字符                                                                    |
| ?      | 匹配任意一个字符                                                                    |
| [abc]  | 匹配方括号中的任意一个字符，比如 [abc] 可以匹配 a、b、c 中的任意一个字符            |
| [a-z]  | 匹配方括号中的任意一个字符，比如 [a-z] 可以匹配 a 到 z 中的任意一个字符             |
| [^abc] | 匹配除了方括号中的任意一个字符，比如 [^abc] 可以匹配除了 a、b、c 之外的任意一个字符 |

### 3.6 命令执行过程

1. 判断路径，如果是绝对路径，则直接执行，如果是相对路径，则需要先找到绝对路径
2. 检查别名，如果有别名，则替换成别名
3. 检查 bash 内置命令，如果是内置命令，则直接执行，如果是外部命令，则需要找到外部命令的路径
4. 查找外部命令的路径 (PATH 环境变量)，如果找到，则执行，如果找不到，则报错 `command not found` 或 `No such file or directory`

```bash
# 查看命令是否是内置命令
type cd
# 查看命令是否是别名
type ls
# 查看命令是否是可执行程序
type cat
```

### 3.7 Linux 环境变量

环境变量是一些特殊的变量，它们的值可以在 shell 中定义，也可以在 shell 中修改，环境变量的作用是为了方便用户在 shell 中使用一些特殊的功能。

Linux 环境变量的名称一般都是大写的，比如 PATH、HOME、SHELL 等。

可以使用 `env` 命令查看当前系统的所有环境变量，也可以使用 `printenv` 命令查看当前系统的所有环境变量。

Linux 环境变量分为：

- 系统环境变量：对所有用户生效
- 用户环境变量：只对当前用户生效、
  Linux 作为一个多用户多任务的操作系统，能够为每个用户提供独立的、合适的工作运行环境，因此，一个相同的环境变量会因为用户身份的不同而具有不同的值。
- 临时环境变量：只对当前 shell 会话生效
  eg: `export PATH=$PATH:/home/itcast/bin` 临时添加环境变量， 但是重启后就会失效，`export` 命令将其提升为全局环境变量，只对当前 shell 会话生效，如果退出了当前 shell 会话，再重新打开一个 shell 会话，就会发现刚才添加的环境变量已经失效了。

重要的系统环境变量：

| 环境变量 | 作用                                                                                                        |
| -------- | ----------------------------------------------------------------------------------------------------------- |
| PATH     | 用于指定 shell 查找外部命令的路径，如果在 shell 中输入一个命令，shell 会到 PATH 中查找，各目录之间用":"隔开 |
| HOME     | 用于指定当前用户的家目录，比如 root 用户的家目录是 /root，普通用户的家目录是 /home/用户名                   |
| SHELL    | 用于指定当前用户的默认 shell，比如 root 用户的默认 shell 是 /bin/bash                                       |
| LANG     | 用于指定当前系统的默认语言，比如 zh_CN.UTF-8 表示中文，en_US.UTF-8 表示英文                                 |
| EDITOR   | 用于指定当前用户的默认编辑器，比如 vim、emacs 等                                                            |
| PS1      | 用于指定当前用户的命令提示符，比如 [root@localhost ~]#                                                      |
| PWD      | 用于指定当前用户的工作目录，比如 /root                                                                      |

## 4. Linux 打包和压缩

### 4.1 打包和压缩的区别

打包和压缩都是用来对文件或目录进行归档的，但是打包和压缩有一些区别：

- 打包是将多个文件或目录合并到一个文件中，不会减少文件的大小
- 压缩是将一个文件或目录压缩成一个文件，会减少文件的大小

> 不能直接对目录进行压缩，需要先将目录打包成一个文件，然后再对文件进行压缩

压缩基本原理：将文件中重复的数据删除，只保留一份，这样就可以减少文件的大小。通过查找文件内的重复字节，建立一个相同字节的词典文件，并用一个代码表示。比如说，在压缩文件中，有不止一处出现了 "C 语言中文网"，那么，在压缩文件时，这个词就会用一个代码表示并写入词典文件，这样就可以实现缩小文件体积的目的。

对文件进行压缩，很可能损坏文件中的内容，因此，压缩又可以分为有损压缩和无损压缩。无损压缩很好理解，指的是压缩数据必须准确无误；有损压缩指的是即便丢失个别的数据，对文件也不会造成太大的影响。有损压缩广泛应用于动画、声音和图像文件中，典型代表就是影碟文件格式 mpeg、音乐文件格式 mp3 以及图像文件格式 jpg。

### 4.2 tar 命令

tar 是 Linux 下最常用的打包命令，它可以将多个文件或目录打包成一个文件，tar 命令的基本语法格式如下：

```bash
tar [选项] [打包后的文件名] [被打包的文件或目录]
```

常用选项：

| 选项 | 作用                              |
| ---- | --------------------------------- |
| -v   | 用于显示打包或解包的详细过程      |
| -f   | 用于指定 tar 包的文件名           |
| -c   | 用于创建一个新的 tar 包           |
| -x   | 用于从一个 tar 包中提取文件或目录 |
| -z   | 用于对 tar 包进行 gzip 压缩       |
| -j   | 用于对 tar 包进行 bzip2 压缩      |
| -J   | 用于对 tar 包进行 xz 压缩         |
| -C   | 用于指定解包的目录                |
| -t   | 用于查看 tar 包中包含了哪些文件   |

eg:

```bash
# 将 /etc 目录打包成一个文件
tar -cvf etc.tar /etc
# 将 /etc 目录打包成一个文件，并使用 gzip 压缩
tar -zcvf etc.tar.gz /etc
# 将 /etc 目录打包成一个文件，并使用 bzip2 压缩
tar -jcvf etc.tar.bz2 /etc
# 将 /etc 目录打包成一个文件，并使用 xz 压缩
tar -Jcvf etc.tar.xz /etc
```

解包命令 tar 的基本语法格式如下：

```bash
tar [选项] [被解包的文件]
```

eg:

```bash
# 将 etc.tar.gz 解压缩到 /tmp 目录下
tar -zxvf etc.tar.gz -C /tmp
# 将 etc.tar.bz2 解压缩到 /tmp 目录下
tar -jxvf etc.tar.bz2 -C /tmp
# 将 etc.tar.xz 解压缩到 /tmp 目录下
tar -Jxvf etc.tar.xz -C /tmp
```

### 4.3 zip 命令

zip 命令基本语法格式如下：

```bash
zip [选项] [压缩后的文件名] [被压缩的文件或目录]
```

常用选项：

| 选项      | 作用                                                                                     |
| --------- | ---------------------------------------------------------------------------------------- |
| -r        | 用于递归压缩目录下的所有文件                                                             |
| -m        | 用于将文件移动到 zip 压缩文件中，而不是复制                                              |
| -u        | 用于更新 zip 压缩文件中的文件，如果压缩文件中不存在该文件，则添加到压缩文件中            |
| -l        | 用于显示压缩文件中的文件信息，包括文件名、压缩比、压缩时间等                             |
| -v        | 用于显示压缩或解压缩的详细过程                                                           |
| -c        | 用于创建一个新的 zip 压缩文件                                                            |
| -x        | 用于从 zip 压缩文件中提取文件或目录                                                      |
| -压缩级别 | 用于指定压缩级别，级别越高，压缩比越高，但是耗费的时间也越长，级别范围是 1-9，默认值是 6 |
| -P        | 用于指定压缩文件的密码                                                                   |

eg:

```bash
# 将 /etc 目录压缩成一个文件
zip -r etc.zip /etc
# 将 /etc 目录压缩成一个文件，并使用密码 123456，压缩级别为 9，同时显示详细过程
zip -rP 123456 -9v etc.zip /etc
```

解压缩命令 unzip 的基本语法格式如下：

```bash
unzip [选项] [压缩文件名]
```

常用选项：

| 选项 | 作用                 |
| ---- | -------------------- |
| -d   | 用于指定解压缩的目录 |

eg:

```bash
# 将 etc.zip 解压缩到 /tmp 目录下
unzip etc.zip -d /tmp
# 将 etc.zip 解压缩到 /tmp 目录下，并使用密码 123456
unzip -P 123456 etc.zip -d /tmp
```

万能解压缩命令(不需要指定压缩文件的格式)：

```bash
unp [压缩文件名]
```

```bash
tar -xvf etc.tar.gz -C /tmp # 解压缩 tar.gz 文件
```

## 5. vim 编辑器

### 5.1 vim 和 vi

Vi 编辑器是 Unix 系统最初的编辑器，vim 是 Linux 下最常用的文本编辑器，它是 vi 编辑器的增强版，vi 是最早的文本编辑器，vim 是 vi 的升级版，vim 的全称是 Vi IMproved，意思是 vi 的增强版。

### 5.2 vim 的三种模式

vim 有三种模式，分别是命令模式、插入模式和底行模式。

- 命令模式：启动 vim 编辑器时默认进入的模式，可以使用各种命令，比如移动光标、复制粘贴等。
- 插入模式：在命令模式下按下 i、a、o 等键进入插入模式，可以输入文本。
- 底行模式：在命令模式下按下 : 进入底行模式，可以保存文件、退出 vim 等。

### 5.3 vim 的基本操作

命令模式：
| 命令 | 作用 |
| -------- | ---------------------------------------------- |
| i | 在当前光标所在位置前插入文本 |
| a | 在当前光标所在位置后插入文本 |
| o | 在当前光标所在行的下方插入一行，并进入插入模式 |
| I | 在当前光标所在行的行首插入文本 |
| A | 在当前光标所在行的行尾插入文本 |
| O | 在当前光标所在行的上方插入一行，并进入插入模式 |
| x | 删除当前光标所在位置的字符 |
| dd | 剪切当前光标所在行 |
| ndd | 删除当前光标所在行及其下面的 n-1 行 |
| yy | 复制当前光标所在行 |
| nyy | 复制当前光标所在行及其下面的 n-1 行 |
| yw | 复制光标所在位置到单词末尾的内容 |
| p | 粘贴复制的内容 |
| u | 撤销上一步操作 |
| ctrl + r | 恢复上一步操作 |

底行模式：
| 命令 | 作用 |
| --------------------- | ------------------------------------------------------------------------------------ |
| :w | 保存文件 |
| :q | 退出 vim 编辑器 |
| :q! | 不保存文件并退出 vim 编辑器 |
| :wq | 保存文件并退出 vim 编辑器 |
| :x | 保存文件并退出 vim 编辑器 |
| :j | 将下一行合并到当前行 |
| :set nu | 显示行号 |
| :set nonu | 取消显示行号 |
| :set nu! | 切换是否显示行号 |
| :set hlsearch | 高亮显示搜索结果 |
| :set nohlsearch | 取消高亮显示搜索结果 |
| :set hlsearch! | 切换是否高亮显示搜索结果 |
| :set ic | 搜索时忽略大小写 |
| :set noic | 搜索时不忽略大小写 |
| /关键字 | 在当前文件中搜索关键字，按 n 键可以查看下一个搜索结果，按 N 键可以查看上一个搜索结果 |
| /^关键字 | 在当前文件中搜索以关键字开头的行 |
| /关键字$ | 在当前文件中搜索以关键字结尾的行 |
| :n | 跳转到第 n 行 |
| :$ | 跳转到最后一行 |
| :s/word1/word2/g | 将当前行中的 word1 替换成 word2 |
| :n1,n2s/word1/word2/g | 将 n1 行到 n2 行中的 word1 替换成 word2 |
| :%s/word1/word2/g | 将当前文件中的 word1 替换成 word2 |
| :%s/word1/word2/gc | 将当前文件中的 word1 替换成 word2，并且在替换前提示是否替换 |

**常用快捷键**：
| 快捷键 | 作用 |
| --------------------- | ------------------------------------------------------------------------------------ |
| ctrl + f | 向下翻页 |
| ctrl + b | 向上翻页 |
| 0 | 跳转到行首 |
| $ | 跳转到行尾 |
| gg | 跳转到文件开头 |
| G | 跳转到文件末尾 |
| nG | 跳转到第 n 行 |
| x,X | 删除光标所在位置的字符，x 向后删除，X 向前删除 |
| dd | 剪切当前光标所在行 |
| ndd | 删除当前光标所在行及其下面的 n-1 行 |
| yy | 复制当前光标所在行 |
| nyy | 复制当前光标所在行及其下面的 n-1 行 |
| p,P | 粘贴复制的内容，p 向后粘贴，P 向前粘贴 |
| u | 撤销上一步操作 |
| ctrl + r | 恢复上一步操作 |
| . | 重复上一步操作 |
| n \<Enter> | 光标向下移动 n 行 |
| n \<Space> | 光标向后移动 n 个字符 |
| n \<Backspace> | 光标向前移动 n 个字符 |
| /word | 在当前文件中搜索 word (n/N)|
| :n1,n2s/word1/word2/g | 将 n1 行到 n2 行中的 word1 替换成 word2 |
| :%s/word1/word2/g(c) | 将当前文件中的 word1 替换成 word2 (confirm)|
|i,I,a,A,o,O|进入插入模式|
|r,R|进入替换模式，r 只会替换光标所在位置的字符，R 会一直替换，直到按下 Esc 键|

### 5.4 vim 的配置文件

vim 的配置文件是 ~/.vimrc，可以在该文件中配置 vim 的一些参数，比如设置 tab 键的宽度、设置行号等。

### 5.5 vim 的插件

vim 的插件管理工具有很多，比如 vim-plug、Vundle、Pathogen 等，这里以 vim-plug 为例介绍 vim 的插件管理。

vim-plug 的安装：

```bash
# 下载 vim-plug
curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

# 编辑 ~/.vimrc 文件，添加如下内容
call plug#begin('~/.vim/plugged')
Plug 'junegunn/vim-easy-align'
call plug#end()

# 安装插件
:PlugInstall
```

vim-plug 的常用命令：
| 命令 | 作用 |
| --------------------- | ------------------------------------------------------------------------------------ |
| :PlugInstall | 安装插件 |
| :PlugUpdate | 更新插件 |
| :PlugClean | 卸载插件 |
| :PlugUpgrade | 升级 vim-plug |
| :PlugStatus | 查看插件状态 |

## 6. Linux 文本处理

### 6.1 cat

cat(Concatenate) 命令用于查看文件内容，cat 命令的常用参数如下：
| 参数 | 作用 |
| --------------------- | ------------------------------------------------------------------------------------ |
| -n | 显示行号 |
| -b | 显示行号，空白行不显示行号 |
| -s | 多个空白行合并成一行 |
| -A | 显示所有字符，包括 tab、换行符等 |

tac 命令用于反向查看文件内容

cat 命令连接文件：

```bash
# 将 file1 和 file2 的内容连接起来，然后输出到标准输出
cat file1 file2

# 将 file1 和 file2 的内容连接起来，然后输出到 file3
cat file1 file2 > file3

# 将 file1 和 file2 的内容连接起来，然后输出到 file3，如果 file3 已经存在，则追加到 file3 的末尾
cat file1 file2 >> file3
```

### 6.2 more

more 命令用于分屏查看文件内容，more 命令的常用参数如下：
| 参数 | 作用 |
| --------------------- | ------------------------------------------------------------------------------------ |
| -num | 指定每屏显示的行数 |
| -d | 显示每屏的百分比 |
| -c | 清屏显示 |
| -p | 通过文件名查找 |
| -s | 把多个空行压缩成一行显示 |
| -u | 把文件内容中的下划线去掉 |
| +num | 从第 num 行开始显示 |

### 6.3 less

less 命令用于分屏查看文件内容，less 命令的常用参数如下：
| 参数 | 作用 |
| --------------------- | ------------------------------------------------------------------------------------ |
| -num | 指定每屏显示的行数 |
| -d | 显示每屏的百分比 |
| -c | 清屏显示 |
| -p | 通过文件名查找 |
| -s | 把多个空行压缩成一行显示 |
| -u | 把文件内容中的下划线去掉 |
| +num | 从第 num 行开始显示 |

less 和 more 的区别：

- more 只能向下翻页，less 可以向上翻页
- less 可以搜索内容，more 不能搜索内容
- less 可以高亮

### 6.4 head

head 命令用于查看文件的前几行，head 命令的常用参数如下：
| 参数 | 作用 |
| --------------------- | ------------------------------------------------------------------------------------ |
| -n | 指定显示的行数 |
| -c | 指定显示的字节数 |

默认情况下，head 命令显示文件的前 10 行。

### 6.5 tail

tail 命令用于查看文件的后几行，tail 命令的常用参数如下：
| 参数 | 作用 |
| --------------------- | ------------------------------------------------------------------------------------ |
| -n | 指定显示的行数 |
| -c | 指定显示的字节数 |
| -f | 动态显示文件的内容 |
| -F | 动态显示文件的内容，如果文件被删除或者被移动，会自动重新打开 |
| -q | 不显示文件名 |
| -s | 指定多久检查一次文件是否有新内容 |

默认情况下，tail 命令显示文件的后 10 行。

### 6.6 重定向

Linux 重定向分为标准输出重定向和标准输入重定向。

标准输出重定向：

```bash
# 将命令的输出重定向到 file 文件中
command > file

# 将命令的输出追加到 file 文件中
command >> file

# 将命令的错误输出重定向到 file 文件中
command 2> file

# 将命令的输出和错误输出重定向到 file 文件中
command > file 2>&1 # 2>&1 表示将标准错误输出重定向到标准输出
# 或者
command &> file # &> 表示将标准输出和标准错误输出重定向到同一个文件
```

标准输入重定向：

```bash
# 将 file 文件的内容作为命令的输入
command < file

# 将 file1 和 file2 的内容作为命令的输入
command < file1 < file2

# 将命令的输出重定向到 file1 文件中，然后将 file2 文件的内容作为命令的输入
command > file1 < file2
```

### 6.7 grep (三剑客之一)

grep(全称 Global Regular Expression Print) 是一种强大的**文本搜索**工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。

grep 命令的常用参数如下：
| 参数 | 作用 |
| -------------- |------------------------------------- |
| -c | 只输出匹配行的计数 |
| -i | 忽略大小写 |
| -n | 输出匹配行及行号 |
| -v | 反向选择，只输出没有匹配的行 |
| -w | 匹配整词，如 -w 'the' 只匹配 the，不匹配 then |
| -r | 递归搜索 |
| -l | 只输出匹配的文件名 |
| -L | 只输出没有匹配的文件名 |
| -o | 只输出匹配的字符串 |

正则表达式是一种匹配模式，它可以用来匹配文本中的字符组合。(元字符也就是通配符)

grep 命令的常用正则表达式如下：
| 正则表达式 | 作用 |
| --------------------- | -------------- |
| ^ | 匹配行首 |
| $ | 匹配行尾 |
| . | 匹配任意一个字符 |
| \* | 匹配前一个字符 0 次或多次 |
| ? | 匹配前一个字符 0 次或 1 次 |
| [] | 匹配中括号中的任意一个字符 |
| [^] | 匹配除了中括号中的任意一个字符 |
| - | 匹配中括号中的任意一个字符范围 |
| \ | 转义字符 |
| () | 分组 |

eg:

```bash
# 匹配以 root 开头的行
grep '^root' /etc/passwd

# 匹配以 root 结尾的行
grep 'root$' /etc/passwd

# 匹配以 root 开头，以 bash 结尾的行
grep '^root.*bash$' /etc/passwd
```

### 6.8 sed (三剑客之一)

sed(全称 Stream Editor) 是一种流编辑器，它是**文本处理**中非常中的工具，能够完美的配合正则表达式使用，功能不同凡响。

sed 命令的常用参数如下：
| 参数 | 作用 |
| -------- | ----------------------- |
| -n | 只打印模式匹配的行 |
| -e | 直接在命令行模式上进行 sed 操作 |
| -f | 从文件中读取 sed 命令 |
| -i | 直接修改文件内容 |

sed 命令的常用操作如下：
| 操作 | 作用 |
| ----- | ----------- |
| a | 在当前行后面追加 |
| c | 替换 |
| d | 删除 |
| i | 在当前行前面插入 |
| p | 打印 |
| s | 替换 |

### 6.9 awk (三剑客之一)

awk(全称 Aho Weinberger Kernighan) 是一种强大的**文本分析**工具，相对于 grep 的查找，sed 的编辑，awk 在其对数据分析并生成报告时，显得尤为强大。

awk 命令的常用参数如下：
| 参数 | 作用 |
| --------------------- | --------------- |
| -F | 指定分隔符 |
| -v | 定义变量 |
| -f | 从文件中读取 awk 命令 |

awk 命令的常用操作如下：
| 操作 | 作用 |
| ------------------- | --------------- |
| BEGIN | 在 awk 开始处理之前执行的操作 |
| END | 在 awk 处理结束之后执行的操作 |
| NR | 行号 |
| NF | 每行的字段数 |
| FS | 分隔符 |
| RS | 记录分隔符 |
| $0 | 所有字段 |
| $1 | 第一个字段 |
| $n | 第 n 个字段 |

## 7. Linux 软件安装

### 7.1 Linux 软件包

Linux 下的软件包可以分为源码包和二进制包两种。

源码包需要自己编译安装，二进制包则不需要。二进制包也就是源码包编译后的产物。

主流的二进制包管理工具有 rpm(Red Hat Package Manager)、dpkg(Debian Package)、apt(Automatic Package Tool)、yum(Yellow dog Updater Modified)。

源码包的安装步骤一般为：下载源码包 -> 解压源码包 -> 配置 -> 编译 -> 安装。

源码包中通常包含：

- 源代码文件
- 配置和检测源代码的脚本文件(./configure、config、make、make install)
- 说明文件(README、INSTALL、COPYING、ChangeLog)

### 7.2 apt

安装文件会按照类别分散安装到不同的目录：
| 目录 | 作用 |
| --------------------- | ----------------------- |
| /etc | 配置文件 |
| /usr/bin | 可执行文件 |
| /usr/lib | 库文件 |
| /usr/share/doc | 使用手册 |
| /usr/share/man | 帮助文档 |

apt 是基于 dpkg 的软件包管理工具。

apt 命令的常用参数如下：
| 参数 | 作用 |
| --------------------- | ----------------------- |
| install | 安装软件包 |
| remove | 删除软件包 |
| purge | 删除软件包及配置文件 |
| update | 更新源列表 |
| upgrade | 升级软件包 |
| search | 搜索软件包 |
| show | 显示软件包信息 |
| list | 列出软件包 |
| clean | 清理下载的包文件 |
| autoclean | 清理过时的包文件 |

## 8. Linux 用户和组

### 8.1 用户和组

Linux 是一个多用户多任务的操作系统，不同的用户可以拥有不同的权限，用户之间的权限是相互独立的。

Linux 中的用户分为两种：root 用户和普通用户。

root 用户是系统管理员，拥有最高权限，可以对系统进行任何操作。

普通用户是系统的使用者，只能使用系统的资源，不能对系统进行修改。

组是用户的集合，每个用户都必须属于一个组，一个组可以包含多个用户。**组的作用是方便管理用户，组可以拥有权限，组中的用户就拥有了这些权限。**

### 8.2 UID 和 GID

Linux 中的用户和组都有一个唯一的标识符，用户标识符 UID(User Identifier) 和组标识符 GID(Group Identifier)。

UID 和 GID 的取值范围都是 0-65535(2^16)，其中 0 是 root 用户的标识符，1-499 是系统保留的 UID 和 GID，其中 1-99 是系统用户的 UID 和 GID，100-499 是系统组的 GID，500-65535 是普通用户的 UID 和 GID。

初始组和附加组：

- 初始组：用户建立时，系统会自动将用户添加到该组中，该组的 GID 就是用户的 UID。
- 附加组：用户可以加入多个组，并拥有这些组的权限，这些组就是用户的附加组。

### 8.3 用户管理

Linux 中的**用户信息**存储在 /etc/passwd 文件中，**用户密码**存储在 /etc/shadow(影子) 文件中。

/etc/passwd 文件的格式如下：

> 用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录 shell

"x" 表示密码被加密并存放在 /etc/shadow 文件中。

主目录是用户登录系统后所在的目录，也是用户登录后有操作权限的目录。

登录 shell 是用户登录系统后所使用的 shell。

Linux 系统中为什么会有那么多默认的用户呢？这些用户都有什么作用呢？

> 这些用户中绝大部分都是系统服务的用户，通常称为系统用户或伪用户。这些用户的作用是为了方便管理系统服务，每个服务都有一个专门的用户，这样就可以方便的管理服务的权限。这些用户的密码都是随机生成的，不允许登录系统。

/etc/shadow 文件的格式如下：

> 用户名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志

"\*" 表示密码为空，"!" 表示密码被锁定，"!!" 表示密码被禁用，密码为空或被锁定的用户不能登录系统。

Linux 中的**组信息**存储在 /etc/group 文件中。

/etc/group 文件的格式如下：

> 组名:口令:组标识号:组内用户列表

每个用户都可以加入多个附加组，但是只能属于一个初始组。

Linux 中的**用户组密码**存储在 /etc/gshadow 文件中。

/etc/gshadow 文件的格式如下：

> 组名:加密口令:组管理者:组内用户列表

### 8.4 用户和组的管理命令

Linux 中的用户和组管理命令如下：

| 命令     | 作用     |
| -------- | -------- |
| useradd  | 添加用户 |
| userdel  | 删除用户 |
| usermod  | 修改用户 |
| passwd   | 修改密码 |
| groupadd | 添加组   |
| groupdel | 删除组   |
| groupmod | 修改组   |

## 9. Linux 权限管理

### 9.1 文件权限

Linux 中的文件权限有三种：读(r-4)、写(w-2)、执行(x-1)。

Linux 中的文件权限分为三类：所有者(u)、所属组(g)、其他用户(o)。

Linux 中的文件权限有三种表示方法：符号表示法、八进制表示法、二进制表示法。

> rwxrwxrwx 符号表示法
> 777 八进制表示法
> 111 111 111 二进制表示法

### 9.2 修改文件权限

Linux 中的文件权限可以使用 chmod(change mode) 命令修改。

chmod 命令的格式如下：

> chmod [选项] 模式 文件名

chmod 命令的常用选项如下：

| 选项 | 作用         |
| ---- | ------------ |
| -R   | 递归修改     |
| -v   | 显示修改信息 |

chmod 命令的常用模式如下：

| 模式              | 作用                                                     |
| ----------------- | -------------------------------------------------------- |
| u+x               | 给所有者添加可执行权限                                   |
| u-x               | 删除所有者的可执行权限                                   |
| u=rwx             | 设置所有者的权限                                         |
| u=rwx,g=rwx,o=rwx | 设置所有者、所属组、其他用户的权限                       |
| a=rwx             | 设置所有用户的权限                                       |
| a+x               | 给所有用户添加可执行权限                                 |
| 644               | 设置所有者的权限为 rw-，设置所属组和其他用户的权限为 r-- |
| 755               | 设置所有者的权限为 rwx，设置所属组和其他用户的权限为 r-x |

### 9.3 修改文件所有者和所属组

Linux 中的文件所有者和所属组可以使用 chown(change owner) 命令修改。

chown 命令的格式如下：

> chown [选项] 所有者 文件名
> chown [选项] 所有者:所属组 文件名
> chown [选项] :所属组 文件名

chown 命令的常用选项如下：

| 选项 | 作用         |
| ---- | ------------ |
| -R   | 递归修改     |
| -v   | 显示修改信息 |

### 9.4 修改文件所属组

Linux 中的文件所属组可以使用 chgrp(change group) 命令修改。

chgrp 命令的格式如下：

> chgrp [选项] 所属组 文件名

chgrp 命令的常用选项如下：

| 选项 | 作用         |
| ---- | ------------ |
| -R   | 递归修改     |
| -v   | 显示修改信息 |

chgrp 和 chown 命令的区别：

> chgrp 命令只能修改文件所属组，不能修改文件所有者。
> chown 命令既可以修改文件所有者，也可以修改文件所属组。

### 9.5 umask 命令

Linux 中的 umask 命令用于设置文件的默认权限。

文件或目录的默认权限 = 666 或 777 - umask 值。
